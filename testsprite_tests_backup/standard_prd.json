{
  "meta": {
    "project": "SocialVerse API",
    "date": "2025-12-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "SocialVerse API is a backend service supporting a social networking platform which includes user authentication, profile management, tweeting, direct messaging, notifications, and file uploads. It aims to provide robust APIs for user interactions, social feeds, and real-time conversation features.",
  "core_goals": [
    "Enable secure user authentication with email and password signup/login.",
    "Provide comprehensive user profile management including follow/unfollow capabilities.",
    "Support creation, retrieval, and interaction with tweets including likes and replies.",
    "Facilitate real-time direct messaging (conversations) between users.",
    "Deliver a notifications system to inform users of social activities.",
    "Allow users to upload and manage media files such as avatars and tweet images."
  ],
  "key_features": [
    "Authentication endpoints for user signup and login with JWT token issuance.",
    "User profile APIs supporting profile retrieval, update, and social graph actions (follow/unfollow).",
    "Tweets module enabling creation, retrieval, liking/unliking, and hierarchical reply support.",
    "Notifications API for listing and marking notifications as read triggered by user activities.",
    "Conversations API for managing direct message threads and messages between users.",
    "Uploads API to handle file uploads and return accessible URLs for media usage."
  ],
  "user_flow_summary": [
    "User registers via signup endpoint providing email, username, password, and name.",
    "User logs in with credentials and receives a JWT token for authenticated actions.",
    "Authenticated users view and update their profile, upload avatar and cover images.",
    "Users post tweets with optional images or reply to other tweets, and like or unlike tweets.",
    "Users follow or unfollow other users to build their social graph and view profiles.",
    "Users initiate or continue direct message conversations, send messages, and view conversation history.",
    "Users receive notifications for events such as likes, replies, and follows and can mark notifications as read.",
    "Users upload media files via the uploads endpoint and use returned URLs in profile or tweets."
  ],
  "validation_criteria": [
    "Ensure signup rejects duplicate email or username with 409 Conflict error.",
    "Verify login returns valid JWT and user info on success and 401 Unauthorized on failure.",
    "Check profile endpoints correctly handle existence, case insensitivity, and return accurate follower/following/tweet counts.",
    "Validate partial and full updates to profiles apply correctly and are idempotent.",
    "Confirm follow/unfollow properly update social graph counts and prevent invalid operations like self-follow.",
    "Verify file upload accepts valid images and returns accessible URLs.",
    "Validate tweet creation supports text, images, replies and reflects relationships in returned data.",
    "Ensure tweet retrieval filters properly by authorId and excludeReplies parameters.",
    "Check liking/unliking tweets updates counts and is authorized appropriately.",
    "Confirm direct messaging endpoints enforce authorization and maintain conversation ordering by updated time.",
    "Ensure notifications are correctly triggered by like, reply, and follow actions and can be marked read.",
    "Test API endpoints adhere to REST standards and return appropriate HTTP status codes and responses."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "NestJS",
      "Prisma",
      "PostgreSQL"
    ],
    "features": [
      {
        "name": "Auth API",
        "description": "User authentication endpoints for signup and login.",
        "files": [
          "apps/api/src/auth/auth.controller.ts",
          "apps/api/src/auth/auth.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/auth/signup": {
              "post": {
                "summary": "Register a new user",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "username": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "User created"
                  },
                  "409": {
                    "description": "Conflict: Email or Username already exists"
                  }
                }
              }
            },
            "/auth/login": {
              "post": {
                "summary": "Login user",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "responses": {
                  "201": {
                    "description": "Login successful, returns token"
                  },
                  "401": {
                    "description": "Unauthorized"
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Users API",
        "description": "User profile management and social interactions.",
        "files": [
          "apps/api/src/users/users.controller.ts",
          "apps/api/src/users/users.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/users/{username}": {
              "get": {
                "summary": "Get user profile",
                "parameters": [
                  {
                    "name": "username",
                    "in": "path",
                    "required": true,
                    "schema": {
                      "type": "string"
                    }
                  }
                ],
                "responses": {
                  "200": {
                    "description": "User profile with isFollowing status"
                  },
                  "404": {
                    "description": "User not found"
                  }
                }
              }
            },
            "/users/profile": {
              "patch": {
                "summary": "Update user profile",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "bio": {
                            "type": "string"
                          },
                          "location": {
                            "type": "string"
                          },
                          "website": {
                            "type": "string"
                          },
                          "avatar": {
                            "type": "string"
                          },
                          "coverImage": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/users/{id}/follow": {
              "post": {
                "summary": "Follow user"
              },
              "delete": {
                "summary": "Unfollow user"
              }
            }
          }
        }
      },
      {
        "name": "Tweets API",
        "description": "Tweet creation, retrieval, and interactions.",
        "files": [
          "apps/api/src/tweets/tweets.controller.ts",
          "apps/api/src/tweets/tweets.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/tweets": {
              "get": {
                "summary": "Get all tweets",
                "parameters": [
                  {
                    "name": "authorId",
                    "in": "query",
                    "schema": {
                      "type": "string"
                    }
                  },
                  {
                    "name": "excludeReplies",
                    "in": "query",
                    "schema": {
                      "type": "boolean"
                    }
                  }
                ]
              },
              "post": {
                "summary": "Create tweet",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "content": {
                            "type": "string"
                          },
                          "image": {
                            "type": "string"
                          },
                          "parentId": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "/tweets/{id}/like": {
              "post": {
                "summary": "Like tweet"
              },
              "delete": {
                "summary": "Unlike tweet"
              }
            }
          }
        }
      },
      {
        "name": "Notifications API",
        "description": "Notification retrieval and management.",
        "files": [
          "apps/api/src/notifications/notifications.controller.ts",
          "apps/api/src/notifications/notifications.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/notifications": {
              "get": {
                "summary": "Get user notifications"
              }
            },
            "/notifications/{id}/read": {
              "patch": {
                "summary": "Mark notification as read"
              }
            }
          }
        }
      },
      {
        "name": "Conversations API",
        "description": "Direct messaging.",
        "files": [
          "apps/api/src/conversations/conversations.controller.ts",
          "apps/api/src/conversations/conversations.service.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/conversations": {
              "get": {
                "summary": "List conversations"
              },
              "post": {
                "summary": "Create/Get conversation"
              }
            },
            "/conversations/{id}/messages": {
              "get": {
                "summary": "Get messages"
              },
              "post": {
                "summary": "Send message"
              }
            }
          }
        }
      },
      {
        "name": "Uploads API",
        "description": "File upload handling.",
        "files": [
          "apps/api/src/uploads/uploads.controller.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/uploads": {
              "post": {
                "summary": "Upload file",
                "responses": {
                  "201": {
                    "description": "File uploaded",
                    "content": {
                      "application/json": {
                        "schema": {
                          "properties": {
                            "url": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
